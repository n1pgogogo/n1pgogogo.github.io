import{_ as N}from"./index-1e98aca3.js";import{l as T,o as v,f as m,g as n,t as S,F as O,h as A,n as V,i as p,m as q,p as J,q as z,s as K,v as Q,w as U,x as X,y as Y,z as Z,A as ee,B as te,k as f,j as oe,C as se,D as ae,E as ne,c as le}from"./vendor-df537502.js";import{_ as j}from"./plugin-vueexport-helper-c27b6911.js";const re={class:"v-bar"},ce={class:"r-bar"},ie={class:"title"},de={__name:"bar",props:{region:{type:String,default:""}},setup(u){const l=u,a=["N","E","O","A","C"],o=["神经质","外倾性","开放性","宜人性","尽责性"],r=T("regionBigFiveData"),t=["rgb(0, 0, 124)","rgb(124, 124, 124)","rgb(124, 0, 0)"];return(e,s)=>(v(),m("div",re,[n("h1",null,S(u.region),1),(v(),m(O,null,A([0,1,2,3,4],d=>n("div",ce,[n("div",ie,S(o[d]),1),(v(),m(O,null,A([0,1,2],c=>n("div",{class:"bar",style:V(`--w: ${p(r).data[l.region][a[d]][c]/(p(r).data[l.region][a[d]][0]+p(r).data[l.region][a[d]][1]+p(r).data[l.region][a[d]][2])}; --c: ${t[c]};`)},S(p(r).data[l.region][a[d]][c]),5)),64))])),64))]))}},ue=j(de,[["__scopeId","data-v-6f157647"]]);const P=u=>(ae("data-v-b53c591a"),u=u(),ne(),u),_e={id:"map"},ve={class:"silder"},ge=P(()=>n("canvas",{id:"geoMap"},null,-1)),pe=P(()=>n("div",null,null,-1)),fe=[pe],me={key:0,class:"bar"},be={__name:"map",setup(u){const l=q({data:{},color:{}});J("regionBigFiveData",l),N(()=>import("./assume-c2abac0c.js"),[],import.meta.url).then(t=>t.default).then(t=>{l.data=t;const e={};Object.keys(t).forEach((s,d)=>{e[s]={},Object.keys(t[s]).forEach((c,y)=>{e[s][c]=t[s][c][2]/(t[s][c][2]+t[s][c][1]+t[s][c][0])})}),l.color=e});const a={N:[75,121,170],E:[236,59,85],O:[242,165,47],A:[51,188,100],C:[196,74,147]},o=z("N"),r=z("");return K(()=>{const t=document.getElementById("geoMap");t.width=t.offsetWidth,t.height=t.offsetHeight;const e=t.getContext("2d");N(()=>import("./100000.topo-d3be3455.js"),[],import.meta.url).then(s=>s.default).then(s=>{const d=Q(s,s.objects.default),c=document.body.offsetWidth<=900?350:700,y=U().center([106,36]).scale(c),M=X().projection(y).context(e);let b=null,D=null,F=null;function g(_=!1,i=null){_&&y.translate([t.width/2,t.height/2]),e.clearRect(0,0,t.width,t.height),b&&(e.save(),e.translate(D,F),e.scale(b,b));const h=d.features;let I="";for(let $=0;$<h.length;$++){const k=h[$],x=k.properties.name;if(k.properties.name==r.value)e.strokeStyle="#000000",e.lineWidth=.15,e.fillStyle="#FAD69D";else{if(l.color[x]){e.strokeStyle="#000000";const C=l.color[x][o.value],B=[200,200,200],E=a[o.value],W=B[0]+(E[0]-200)*C,G=B[1]+(E[1]-200)*C,H=B[2]+(E[2]-200)*C;e.fillStyle=`rgb(${W}, ${G}, ${H})`}else e.strokeStyle="#000000",e.fillStyle="rgb(0, 0, 0)";e.lineWidth=.2}e.beginPath(),M(k),i&&e.isPointInPath(i[0],i[1])&&(I=x),e.fill(),e.stroke()}return e.restore(),I}g(!0);function L(_){const i=_.transform;b=i.k,D=i.x,F=i.y,g()}const w=Y(t),R=Z().scaleExtent([1,100]).translateExtent([[0,0],[t.width,t.height]]).on("zoom",L);w.call(R),w.on("click",_=>{const[i,h]=ee(_);r.value=g(!1,[i,h]),g()}),te(o,(_,i)=>{r.value="",g(!0)})})}),(t,e)=>(v(),m("div",_e,[n("div",ve,[n("div",{class:f({selected:o.value=="N",navButton:!0}),style:{"--c":"rgb(75, 121, 170)"},onClick:e[0]||(e[0]=s=>o.value="N")},"神经质 ",2),n("div",{class:f({selected:o.value=="E",navButton:!0}),style:{"--c":"rgb(236, 59, 85)"},onClick:e[1]||(e[1]=s=>o.value="E")},"外向性",2),n("div",{class:f({selected:o.value=="O",navButton:!0}),style:{"--c":"rgb(242, 165, 47)"},onClick:e[2]||(e[2]=s=>o.value="O")},"开放性 ",2),n("div",{class:f({selected:o.value=="A",navButton:!0}),style:{"--c":"rgb(51, 188, 100)"},onClick:e[3]||(e[3]=s=>o.value="A")},"宜人性 ",2),n("div",{class:f({selected:o.value=="C",navButton:!0}),style:{"--c":"rgb(196, 74, 147)"},onClick:e[4]||(e[4]=s=>o.value="C")},"尽责性",2)]),ge,n("div",{class:"legend",style:V(`--c: rgb(${a[o.value][0]}, ${a[o.value][1]}, ${a[o.value][2]}); --f: ${.299*a[o.value][0]+.587*a[o.value][1]+.114*a[o.value][2]>128?"rgb(24, 24, 24)":"rgb(200, 200, 200)"};`)},fe,4),r.value!=""?(v(),m("div",me,[oe(ue,{region:r.value},null,8,["region"])])):se("",!0)]))}},he=j(be,[["__scopeId","data-v-b53c591a"]]),xe={__name:"index",setup(u){return(l,a)=>(v(),le(he))}};export{xe as default};
